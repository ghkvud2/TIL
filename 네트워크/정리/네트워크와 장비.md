### 1. 이더넷이란?

- 이더넷은 네트워킹의 한 방식으로써 `CSMA/CD` 이라는 프로토콜을 사용하는 통신 방식이다.

---

### 2. CSMA/CD 방식이란?

- `Carrier Sense Multiple Access / Collision Detection` 의 약자로써 호스트가 회선을 확인하여 데이터를 전송하는 방식이다.
- 즉, 어느 한 시점에 하나의 호스트만이 데이터를 전송할 수 있는 방식으로 네트워크 혼잡도가 높을 경우 어떤 호스트도 데이터를 전송할 수 없게 된다.



1. 호스트는 데이터를 전송하기 전에 회선이 사용 중인지 확인한다.
2. 회선이 사용중이면 임의의 시간만큼 기다린 후 다시 회선의 사용 유무를 확인한다.
3. 회선이 사용되지 않는 것이 확인되면 데이터를 전송한다.
4. 데이터 전송 중 충돌이 검출되면 충돌 발생 사실을 모든 호스트에게 전송한다.
5. 충돌이 발생하면 임의의 시간동안 대기한 후 다시 데이터를 전송한다.

---

### 3. 토큰링 (Token Ring) 방식이란?

- 어느 한 네트워크에 속한 호스트들이 `토큰`을 얻었을 경우에만 데이터를 전송할 수 있도록 하는 방식이다.
- `토큰`은 순차적으로 호스트들 사이에서 옮겨지기 때문에, `CSMA/CD` 방식과는 달리 데이터 충돌이 발생할 가능성이 없다.
- 하지만, 데이터를 즉시 보내야하는 호스트가 `토큰`을 얻을 때 까지 기다려야 하므로 효율적인 측면에서 단점이 있다.

---

### 4. IP 주소 vs MAC 주소

- `MAC 주소`는 데이터-링크 계층에서 사용하는 네트워크 인터페이스 (NIC)에 부여된 고유 식별 주소이다.
- `IP 주소`는 네트워크 계층에서 사용하는 주소로써 각 네트워크의 라우팅을 위해 필요하다.
- ARP를 사용하여 `IP 주소`를 `MAC 주소`로 변환하여 실제 데이터를 주고 받는다.

---

### 5. 네트워크 통신방식

- 네트워크 통신방식에는 `유니캐스트, 브로드캐스트, 멀티캐스트`가 있다.

#### 5-1. 유니캐스트

- `출발지 MAC 주소`와 `목적지 MAC 주소`를 명시함으로써 데이터를 보내는 쪽과 받는 쪽이 1:1로 통신을 하는 경우이다.
- 우선, 데이터를 송신하는 측에서는 `출발지와 목적지 주소`를 프레임에 포함시켜 모든 호스트들에게 전송한다.
- 프레임을 받은 호스트들은 자신의 `MAC 주소`와 `목적지 MAC 주소`를 비교하여, 다르면 폐기하고 같으면 CPU에 인터럽트를 발생시킨다.
- 데이터를 수신할 대상이 아닌 호스트들은 해당 프레임을 바로 폐기하기 때문에, CPU 성능에는 아무런 영향을 주지않늗다.



#### 5-2. 브로드캐스트

- `브로드 캐스트` 방식은 하나의 네트워크 안에 있는 모든 호스트(장비)들과 통신하기 위해 사용하는 방식인데, 이때 이 네트워크를 `브로드캐스트 도메인`이라고 한다.

- `브로드 캐스트`의 MAC 주소는 `FF:FF:FF:FF:FF:FF`로 정해져 있는데, 이 목적지 MAC 주소를 가진 프레임을 받은 호스트들은 (해당 네트워크에 있는 모든 호스트) 브로드 캐스트로 전송된 것으로 인지하고 CPU에 인터럽트를 발생시킨다.
- 즉, `브로드 캐스트`가 빈번하게 발생하면, 해당 네트워크에 속한 호스트들의 성능에 영향을 끼친다.



#### 5-3. 멀티 캐스트

- `멀티 캐스트` 방식은 보내고자 하는 그룹에게만 한 번에 데이터를 전송하는 방식이다.
- 이 방식은 스위치나 라우터에서 이 기능을 지원해 주어야만 사용할 수 있다.

---

### 6. 허브(Hub)란?

- `허브`는 포트가 여러 개 달린 장비로써, 한 포트로 들어온 데이터를 다른 모든 포트로 전송하는 장비이다.
- 즉, 하나의 허브에 여러 대의 PC를 연결하면 이 PC들 간에는 통신을 할 수 있는 방식이다.
- `이더넷 허브`는 CSMA/CD 프로토콜을 사용하여 데이터를 전송하므로 충돌이 발생할 수 있다.
- 즉, 같은 허브에 연결된 모든 PC들은 같은 `콜리전 도메인 (Collision Domain)` 에 있다라고 한다.



### 7. 브리지(Bridge) 와 스위치(Switch)

- `허브`의 문제점인 콜리전 도메인을 나누어 줄 수 있는 장비가 `브리지와 스위치`이다.
- `허브`와 `스위치`의 가장 큰 차이점은 콜리전 도메인을 나누는 방식에 있다.
- `허브`는 데이터 버스를 모든 포트들이 공유하지만, `스위치` 같은 경우에는 포트별로 데이터 버스를 나누었기 때문에, 각기 다른 버스를 이용하여 데이터를 동시에 전송할 수 있도록 한다.



### 7-1. 브리지와 스위치의 동작 과정

1. Learning
   - `브리지`에 연결된 PC가 통신을 원하면, `브리지`는 해당 PC의 MAC 주소를 `브리지 테이블`에 저장하여 다음에 해당 PC에 데이터를 보낼 때 참고한다.
   - 즉, `브리지 테이블`을 참조해서 다른 콜리전 도메인으로 포워딩을 할지 결정한다.
2. Flooding
   - `브리지`에 들어온 프레임의 목적지 MAC 주소가 `브리지 테이블`에 존재하지 않을 때, 해당 프레임을 모든 포트로 전송하는 것을 말한다.
3. Forwarding
   - `브리지`에 들어온 프레임의 목적지가 출발지와 다른 세그먼트에 존재할 때 해당 세그먼트 포트로만 전송하는 것을 말한다.
4. Filtering
   - 출발지와 목적지 주소가 같은 세그먼트에 존재할 때, 해당 프레임이 다른 세그먼트로 전송되지 않도록 하는 것을 말한다.
   - 이 필터링 기능이 콜리전 도메인을 나눠주는 기능을 제공한다.
5. Aging
   - `브리지 테이블`에 저장된 MAC 주소의 지속시간(?)을 말한다.
   - `브리지`에 들어온 프레임의 MAC 주소가 `브리지 테이블`에 이미 존재한다면 Age 필드를 초기화한다.
   - Age 필드 값이 지정한 값 (대체로 5분)을 넘기면 해당 MAC 주소를 `브리지 테이블`에서 삭제한다.

