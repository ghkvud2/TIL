## 1. 단일 책임 원칙 (Single Responsibility Principle)

- 객체지향 설계 관점에서는 SRP에서 말하는 책임의 기본 단위는 객체를 지칭한다. 즉, 객체는 단 하나의 책임만 가져야 한다는 의미이다.



#### 1-1) 책임의 의미

- 책임은 보통 `해야 하는 것`이나 `할 수 있는 것`으로 간주할 수 있다.
- 객체에 책임을 할당할 때에는 어떤 객체보다도 작업을 잘 할 수 있는 객체에 책임을 할당해야 한다.



#### ** [Student 클래스 예제]**

- 다음과 같은 기능을 가진 `학생` 클래스가 있다고 가정하자.

1. 수강 과목을 추가하거나 조회한다.
2. 데이터베이스에 객체 정보를 저장하거나 읽는 작업을 처리한다.
3. 성적표와 출석부에 출력하는 일을 실행한다.

```java
public class Student{
    public void getCourses(){...};
    public void addCourse(Course c){...};
    public void save(){...};
    public Student load(){...};
    public void printOnReportCard(){...};
    public void printOnAttendanceBook(){...};
}
```

- 현재 `학생`클래스는 너무나 많은 책임을 수행한다. 
- `학생` 클래스에 할당된 책임 중에서 가장 잘할 수 있는 것은 수강 과목을 추가하고 조회하는 일이다.



#### 1-2) 변경

- `학생`클래스가 변경될 수 있는 원인은 다음과 같다.

1. 데이터베이스의 스키마가 변경될 때
2. 학생이 지도 교수를 찾는 기능이 추가되어야 할 때
3. 학생 정보를 성적표와 출석부 이외의 형식으로 출력해야할 때



- 또한, `학생`클래스는 여러 책임을 수행하므로 `학생`클래스의 기능을 사용하는 다른 클래스들도 많을 수 밖에 없다.
- 만약, `학생` 클래스에 변경이 생기면, `학생`클래스를 이용하는 다른 클래스에도 변경이 일어날 수 있다.

- 따라서, `학생`클래스에 부여된 많은 책임을 다른 클래스들에 책임을 분담한다면, 어떤 변화가 생기더라도 영향을 최소화 할 수 있다.



#### 1-3) 책임분리

- `학생`클래스가 너무 많은 책임(기능)을 가졌기 때문에, 변경사항에 대한 영향도가 컸다.
- 이를 줄이기 위해, `학생`클래스의 기능을 `성적표` 클래스, `출석부`클래스, `학생 DAO` 등으로 책임을 분배하여 영향도를 최소화할 수 있다.



#### 1-4) 산탄총 수술

- 위에서는 한 클래스가 여러 가지 책임을 가진 상황을 살펴봤다.
- 그런데 하나의 책임이 여러 개의 클래스들에 분산되어 있는 경우에도 `단일 책임 원칙`에 입각하여 설계를 변경해야 하는 경우도 있다.
- `산탄총 수술`이란 어떤 작은 변경이 있을 때 하나가 아닌 여러 클래스를 변경해야 한다는 점에 착안해 만들어졌다.
- 산탄총 수술이 어려운 이유는 수술 부위가 많다는 것 뿐만 아니라 모든 환부를 빠짐없이 찾아야 한다는 것이다.
- 마찬가지로, 여러 개의 클래스에 책임이 분산된 경우에도 클래스 하나하나를 모두 변경하지 않으면 에러가 발생한다.



#### [AOP]

- 하나의 책임이 여러 클래스에 분산되어 있는 예로는 로깅, 보안, 트랜잭션과 같은 `횡단 관심`으로 분류할 수 있는 기능이 대표적이다.

- `산탄총 수술`의 문제점을 해결하기 위해서는 각각의 클래스에 분산된 부가 기능을 별개의 클래스로 분리해서 책임을 담당하게 하는 것이다.

- `AOP`는 횡단 관심을 수행하는 코드를 `Aspect`라는 특별한 객체로 모듈화하고 `위빙`이라는 작업을 통해 모듈화한 코드를 핵심 기능에 끼워 넣을 수 있다.

  